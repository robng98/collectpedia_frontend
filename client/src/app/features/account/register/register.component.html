<div class="flex justify-center items-center min-h-[80vh] px-4 flex-grow">
    <!-- Loading Indicator (Centralized) -->
    <div *ngIf="isLoading" class="centralized-spinner-container">
      <mat-spinner diameter="60" color="light"></mat-spinner>
    </div>
  <div class="w-full max-w-md">
    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
      <div class="bg-[#1e3a8a] text-white py-4 px-6">
        <h2 class="text-xl font-bold">Cadastrar</h2>
      </div>
      
      <div class="p-6">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <mat-form-field appearance="fill" class="w-full mb-4">
            <mat-label>Nome completo</mat-label>
            <input matInput formControlName="fullName" placeholder="Full Name">
            <mat-error *ngIf="registerForm.get('fullName')?.errors?.['required']">
              Campo obrigatório
            </mat-error>
          </mat-form-field>
          
          <mat-form-field appearance="fill" class="w-full mb-4">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" placeholder="Email">
            <mat-error *ngIf="registerForm.get('email')?.errors?.['required']">
              Campo obrigatório
            </mat-error>
            <mat-error *ngIf="registerForm.get('email')?.errors?.['email']">
              Formato de email inválido
            </mat-error>
          </mat-form-field>
          
          <mat-form-field appearance="fill" class="w-full mb-4">
            <mat-label>Senha</mat-label>
            <input matInput type="password" formControlName="password" placeholder="Password">
            <mat-error *ngIf="registerForm.get('password')?.errors?.['required']">
              Campo obrigatório
            </mat-error>
            <mat-error *ngIf="registerForm.get('password')?.errors?.['minlength']">
              Senha precisa de no mínimo 6 caracteres
            </mat-error>
          </mat-form-field>
          
          <mat-form-field appearance="fill" class="w-full mb-4">
            <mat-label>Confirmar senha</mat-label>
            <input matInput type="password" formControlName="confirmPassword" placeholder="Confirm Password">
            <mat-error *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">
              Por favor, confirme sua senha
            </mat-error>
            <mat-error *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']">
              Senhas não conferem
            </mat-error>
          </mat-form-field>
          
          <div *ngIf="errorMessage" class="text-red-500 mb-4">
            {{ errorMessage }}
          </div>
          
          <div class="flex justify-center mx-10">
            <button 
              type="submit" 
              mat-flat-button 
              [disabled]="registerForm.invalid || isSubmitting" 
              class="search-button bg-[#1e3a8a] text-white w-full">
              {{ isSubmitting ? 'Carregando...' : 'Registrar' }}
            </button>
          </div>
        </form>
        
        <div class="mt-6 text-center">
          <p class="text-gray-600">
            Já possui conta? Faça seu
            <a routerLink="/account/login" class="text-[#1e3a8a] font-medium hover:underline">Login</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>